local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- ã€è¨­å®šå€ã€‘
local QuestName = "Monkeys" -- ä½ æŠ“åˆ°çš„ä»»å‹™åç¨±
local QuestID = 1           -- é€šå¸¸ç¬¬ä¸€å€‹é¸é …æ˜¯ 1
local WebhookURL = "https://discord.com/api/webhooks/1468528458056339529/WKTq9fLdmYaWVaM4b-yy78n9cEP5qB2NQx254k1pMLqJusi6HFefvtBL3vOaKznHoiFH"

-- 1. åŸ·è¡Œå™¨å°ˆç”¨ Request å‡½æ•¸ (è‡ªå‹•åµæ¸¬ï¼Œé¿å… Line 2 nil å ±éŒ¯)
local function SafeRequest(msg)
    local req = (syn and syn.request) or (http and http.request) or http_request or request
    if req then
        pcall(function()
            req({
                Url = WebhookURL,
                Method = "POST",
                Headers = {["Content-Type"] = "application/json"},
                Body = game:GetService("HttpService"):JSONEncode({content = msg})
            })
        end)
    end
end

-- 2. è‡ªå‹•æ¥ä»»å‹™å‡½æ•¸
local function AcceptMonkeysQuest()
    print("--- æ­£åœ¨å˜—è©¦é ç«¯æ¥å–: " .. QuestName .. " ---")
    
    -- å°‹æ‰¾éŠæˆ²é€šè¨Šç®¡é“
    local remote = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("CommF_")
    
    -- ç›´æ¥å°ä¼ºæœå™¨ç™¼é€ã€Œæˆ‘è¦æ¥ä»»å‹™ã€çš„è«‹æ±‚
    local result = remote:InvokeServer("AcceptQuest", QuestName, QuestID)
    
    if result == 1 or result == true then
        print("âœ… æˆåŠŸé ˜å– Monkeys ä»»å‹™ï¼")
        SafeRequest("ğŸ® å·²æˆåŠŸè‡ªå‹•æ¥å–ä»»å‹™: **Monkeys**")
    else
        warn("âŒ ç„¡æ³•é ˜å–ä»»å‹™ (å¯èƒ½ä½ å·²ç¶“æœ‰ä»»å‹™ï¼Œæˆ–æ˜¯ç­‰ç´šè¶…éå¤ªå¤š)")
    end
end

-- åŸ·è¡Œå‹•ä½œ
AcceptMonkeysQuest()
