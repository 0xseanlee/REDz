local player = game.Players.LocalPlayer
local vUser = game:GetService("VirtualUser")

print("--- ğŸ” é–‹å§‹è¨ºæ–· CDK/GHC æ™®æ”»å•é¡Œ ---")

local function DiagnoseM1()
    local char = player.Character
    local tool = char and char:FindFirstChildOfClass("Tool")
    
    if not tool then
        warn("âŒ éŒ¯èª¤ï¼šè«‹å…ˆæ‰‹å‹•æ‹¿è‘— CDK æˆ– GHC å†åŸ·è¡Œæ¸¬è©¦ï¼")
        return
    end
    
    print("ğŸ“ ç•¶å‰è£å‚™: " .. tool.Name)

    -- ã€æ¸¬è©¦ 1: åŸºç¤å”è­°è§¸ç™¼ã€‘
    local p1 = pcall(function()
        tool:Activate()
    end)
    print("1. Tool:Activate() åŸ·è¡Œç‹€æ…‹: " .. (p1 and "âœ… é€å‡º" or "âŒ å¤±æ•—"))

    -- ã€æ¸¬è©¦ 2: è™›æ“¬æ»‘é¼ é»æ“Šã€‘
    local p2 = pcall(function()
        vUser:CaptureController()
        vUser:ClickButton1(Vector2.new(640, 360))
    end)
    print("2. VirtualUser é»æ“Šç‹€æ…‹: " .. (p2 and "âœ… é€å‡º" or "âŒ å¤±æ•—"))

    -- ã€æ¸¬è©¦ 3: æ”»æ“Šé ç«¯å”è­° (Remotes)ã€‘
    -- é€™æ˜¯ Blox Fruit ç‰©ç†æ­¦å™¨å‚·å®³çš„åº•å±¤æ ¸å¿ƒ
    local p3 = pcall(function()
        local remote = game:GetService("ReplicatedStorage").Remotes.CommF_
        remote:InvokeServer("Attack") -- å˜—è©¦ç›´æ¥å‘¼å«é€šç”¨æ”»æ“Šå”è­°
    end)
    print("3. CommF Attack å”è­°ç‹€æ…‹: " .. (p3 and "âœ… é€å‡º" or "âŒ å¤±æ•—"))
end

DiagnoseM1()
