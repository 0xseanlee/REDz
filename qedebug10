local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- ã€Webhook è¨­å®šã€‘
local WebhookURL = "https://discord.com/api/webhooks/1468528458056339529/WKTq9fLdmYaWVaM4b-yy78n9cEP5qB2NQx254k1pMLqJusi6HFefvtBL3vOaKznHoiFH"

-- åŸ·è¡Œå™¨ç›¸å®¹ Request å‡½æ•¸
local function UniversalRequest(payload)
    local req = (syn and syn.request) or (http and http.request) or http_request or request
    if req then
        pcall(function()
            req({
                Url = WebhookURL,
                Method = "POST",
                Headers = {["Content-Type"] = "application/json"},
                Body = HttpService:JSONEncode(payload)
            })
        end)
    end
end

print("ğŸš€ å•Ÿå‹•å…¨å³¶å¶¼æ•¸æ“šæ·±å±¤æƒæ...")

-- 1. æŠ“å–è§’è‰²åŸºæœ¬æ•¸å€¼ (Stats)
local stats = {}
for _, stat in pairs(player.Data:GetChildren()) do
    if stat:IsA("ValueBase") then
        stats[stat.Name] = stat.Value
    end
end

-- 2. æŠ“å–èƒŒåŒ…é“å…· (Inventory)
local inventory = {}
for _, item in pairs(player.Backpack:GetChildren()) do
    table.insert(inventory, item.Name)
end
for _, item in pairs(player.Character:GetChildren()) do
    if item:IsA("Tool") then table.insert(inventory, item.Name .. " (è£å‚™ä¸­)") end
end

-- 3. æŠ“å–ç•¶å‰ä»»å‹™ç‹€æ…‹ (Active Quest)
local currentQuest = "ç„¡ä»»å‹™"
local questProgress = ""
local mainGui = player.PlayerGui:FindFirstChild("Main")
if mainGui and mainGui:FindFirstChild("Quest") and mainGui.Quest.Visible then
    currentQuest = mainGui.Quest.Container.QuestTitle.Text
    questProgress = mainGui.Quest.Container.QuestStage.Text
end

-- 4. æŠ“å–æ‰€æœ‰å·²å­¸ç¿’çš„æŠ€èƒ½/è¦ºé†’ç‹€æ…‹ (å¦‚é©ç”¨)
local masteryInfo = "Mastery: " .. tostring(player.Data.Level.Value) -- ç°¡åŒ–ç‰ˆ

-- æ•´åˆå¤§æ•¸æ“šè¡¨æ ¼
local fullData = {
    embeds = {{
        title = "ğŸ” ç©å®¶å…¨æ•¸æ“šå ±å‘Š - " .. player.Name,
        color = 0x00FFFF,
        fields = {
            {name = "ğŸ“ˆ åŸºæœ¬å±¬æ€§", value = string.format("ç­‰ç´š: %s\né‡‘éŒ¢: %s\nç¢ç‰‡: %s", stats["Level"] or "N/A", stats["Beli"] or "0", stats["Fragments"] or "0"), inline = true},
            {name = "ğŸ“œ ç•¶å‰ä»»å‹™", value = string.format("åç¨±: %s\né€²åº¦: %s", currentQuest, questProgress), inline = true},
            {name = "ğŸ’ èƒŒåŒ…å…§å®¹", value = #inventory > 0 and table.concat(inventory, ", ") or "ç©º", inline = false},
            {name = "ğŸ“ ç•¶å‰åº§æ¨™", value = tostring(player.Character.HumanoidRootPart.Position), inline = false}
        },
        footer = {text = "æ•¸æ“šæ¡é›†æ™‚é–“: " .. os.date("%X")}
    }}
}

-- åŸ·è¡Œç™¼é€
UniversalRequest(fullData)
print("âœ… æ•¸æ“šå·²å®Œæ•´å¤–æ´©è‡³ Discord (èª¤)")
